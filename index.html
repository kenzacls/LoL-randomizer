<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>LoL Randomizer ‚Äì Draft Chaos Engine</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="description" content="Randomizer League of Legends complet : champions, runes, sorts, items, et d√©fis. Mode troll, dark humor, full random ou configuration pr√©cise ‚Äì cr√©e ton destin.">

  <style>
    :root {
      --bg-dark: #0d1117;
      --bg-card: #161b22;
      --bg-highlight: #1f2937;
      --accent-blue: #3b82f6;
      --accent-gold: #d4af37;
      --text: #f8fafc;
      --text-soft: #cbd5e1;
      --radius: 12px;
      --shadow: 0 0 18px rgba(0, 0, 0, 0.45);
      --transition: 0.2s ease;
    }

    body {
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #0d1117, #1c2333 70%);
      color: var(--text);
      font-family: "Segoe UI", sans-serif;
      padding: 24px;
    }

    h1 {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 36px;
      margin: 0;
      font-weight: 700;
      text-shadow: 0 0 10px rgba(212, 175, 55, 0.25);
    }

    #troll-icon {
      font-size: 40px;
      transition: transform 0.3s ease;
    }

    @keyframes wiggle {
      0% { transform: rotate(-5deg) scale(1.1); }
      50% { transform: rotate(6deg) scale(1.15); }
      100% { transform: rotate(-6deg) scale(1.1); }
    }

    #troll-text {
      margin-top: 4px;
      font-size: 16px;
      color: var(--text-soft);
      min-height: 24px;
    }

    .card {
      background: var(--bg-card);
      padding: 20px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      margin-top: 24px;
    }

    .card h2 {
      margin-top: 0;
      color: var(--accent-gold);
      font-weight: 600;
      font-size: 22px;
      margin-bottom: 16px;
    }

    .option-btn {
      background: var(--bg-highlight);
      padding: 12px 18px;
      border-radius: var(--radius);
      border: 1px solid transparent;
      cursor: pointer;
      margin: 4px;
      color: var(--text);
      transition: var(--transition);
      font-size: 15px;
      display: inline-block;
    }

    .option-btn:hover { background: #243042; }
    .option-btn.selected { border-color: var(--accent-blue); background: #1e3a8a; }

    input[type="text"] {
      width: 100%;
      padding: 12px;
      background: #111827;
      border: 1px solid #374151;
      color: var(--text);
      border-radius: var(--radius);
      margin-top: 8px;
      font-size: 15px;
    }

    button.action {
      width: 100%;
      padding: 18px;
      border-radius: var(--radius);
      margin-top: 20px;
      border: none;
      font-size: 20px;
      cursor: pointer;
      transition: var(--transition);
    }

    #final-roll { background: var(--accent-blue); color: white; }
    #final-roll:hover { background: #60a5fa; }

    #team-roll { background: #0ea5e9; color: white; }
    #team-roll:hover { background: #38bdf8; }

    #full-random { background: #374151; color: white; }
    #full-random:hover { background: #4b5563; }

    /* Modal */
    #modal-bg {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.55);
      display: none;
      justify-content: center;
      align-items: center;
      backdrop-filter: blur(2px);
    }

    #modal {
      background: var(--bg-card);
      padding: 28px;
      border-radius: var(--radius);
      max-width: 520px;
      width: 90%;
      box-shadow: var(--shadow);
      border: 1px solid rgba(212, 175, 55, 0.2);
    }

    #modal h2 { margin-top: 0; color: var(--accent-gold); }

    #result { font-size: 16px; line-height: 1.6; margin-top: 12px; }

    #close-modal {
      margin-top: 20px;
      background: var(--accent-blue);
      border: none;
      padding: 12px 20px;
      color: white;
      border-radius: var(--radius);
      cursor: pointer;
      width: 100%;
      font-size: 17px;
    }

    #close-modal:hover { background: #4f8ff0; }

  </style>
</head>

<body>

<h1>
  <span id="troll-icon">üå∂Ô∏è</span>
  LoL Randomizer ‚Äì Draft Chaos Engine
</h1>
<div id="troll-text">
  Tu veux pimenter la game. Tu vas surtout pimenter les reports.
</div>

<!-- TROLL LEVEL -->
<div class="card">
  <h2>Niveau de troll</h2>
  <input type="range" id="troll-range" min="0" max="2" value="1" style="width:100%;">
</div>

<!-- CHAMPION -->
<div class="card">
  <h2>Champion</h2>

  <button class="option-btn selected" data-type="champ" data-mode="random">Al√©atoire complet</button>
  <button class="option-btn" data-type="champ" data-mode="role">Adapt√© au r√¥le</button>
  <button class="option-btn" data-type="champ" data-mode="manual">Manuel</button>

  <input id="champ-manual" placeholder="Entrer un champion" style="display:none;">
</div>

<!-- RUNES -->
<div class="card">
  <h2>Runes</h2>

  <button class="option-btn selected" data-type="runes" data-mode="full">Compl√®tes</button>
  <button class="option-btn" data-type="runes" data-mode="trees">Arbres</button>
  <button class="option-btn" data-type="runes" data-mode="manual">Manuel</button>
</div>

<!-- SUMMONERS -->
<div class="card">
  <h2>Sorts d'invocateur</h2>

  <button class="option-btn selected" data-type="summ" data-mode="full">Al√©atoire complet</button>
  <button class="option-btn" data-type="summ" data-mode="flash">Flash + random</button>
  <button class="option-btn" data-type="summ" data-mode="manual">Manuel</button>
</div>

<!-- ITEMS -->
<div class="card">
  <h2>Objets</h2>

  <button class="option-btn selected" data-type="items" data-mode="adapted">Adapt√©s au r√¥le</button>
  <button class="option-btn" data-type="items" data-mode="random">Totalement random</button>
  <button class="option-btn" data-type="items" data-mode="manual">Manuel</button>
</div>

<!-- ACTION BUTTONS -->
<button id="final-roll" class="action">üéÆ G√©n√©rer le build final</button>
<button id="team-roll" class="action">üß© G√©n√©rer une √©quipe compl√®te</button>
<button id="full-random" class="action">üé≤ Full Random</button>

<!-- MODAL -->
<div id="modal-bg">
  <div id="modal">
    <h2>Build Final</h2>

    <div id="result"></div>

    <button id="close-modal">Fermer</button>
  </div>
</div>

<script>
// =========================
// TROLL SLIDER
// =========================
const trollIcon = document.getElementById("troll-icon");
const trollText = document.getElementById("troll-text");
const trollRange = document.getElementById("troll-range");

const trollPhrases = [
  "Tu joues propre. C‚Äôest mignon. Personne dans ta game ne fera pareil.",
  "Tu veux pimenter la game. Tu vas surtout pimenter les reports.",
  "Tu ne vises plus la victoire. Tu vises le chaos pur."
];

const trollIcons = ["üòá", "üå∂Ô∏è", "ü§°"];

trollRange.oninput = () => {
  let v = Number(trollRange.value);
  trollIcon.textContent = trollIcons[v];
  trollText.textContent = trollPhrases[v];
  if (v === 2)
    trollIcon.style.animation = "wiggle 0.4s", setTimeout(() => trollIcon.style.animation="", 400);
};

// =========================
// BUTTON SELECTION
// =========================
document.querySelectorAll(".option-btn").forEach(btn => {
  btn.onclick = () => {
    const type = btn.dataset.type;
    document.querySelectorAll(`.option-btn[data-type='${type}']`)
      .forEach(b => b.classList.remove("selected"));
    btn.classList.add("selected");

    if (type === "champ")
      document.getElementById("champ-manual").style.display =
        btn.dataset.mode === "manual" ? "block" : "none";
  };
});

// =========================
// DATA ‚Äî LoL POOLS
// =========================

const champsByRole = {
  top: ["Aatrox","Akali","Camille","Cho'Gath","Darius","Dr. Mundo","Fiora","Garen","Gnar",
        "Illaoi","Irelia","Jax","Jayce","Kayle","Kled","Malphite","Maokai","Nasus","Ornn",
        "Poppy","Quinn","Renekton","Riven","Sett","Shen","Singed","Sion","Teemo",
        "Tryndamere","Urgot","Volibear","Wukong","Yorick","Zaahen"],
  jungle: ["Amumu","Bel‚ÄôVeth","Briar","Diana","Ekko","Elise","Evelynn","Fiddlesticks","Gragas",
           "Graves","Hecarim","Jarvan IV","Kayn","Kha'Zix","Kindred","Lee Sin","Lillia",
           "Master Yi","Nidalee","Nocturne","Nunu","Olaf","Rammus","Rek'Sai","Rengar",
           "Sejuani","Shaco","Shyvana","Skarner","Trundle","Udyr","Vi","Viego","Xin Zhao",
           "Zaahen"],
  mid: ["Ahri","Akali","Annie","Aurelion Sol","Azir","Cassiopeia","Diana","Ekko","Fizz",
        "Galio","Irelia","Kassadin","Katarina","LeBlanc","Lissandra","Lux","Malzahar",
        "Neeko","Orianna","Qiyana","Ryze","Seraphine","Sylas","Taliyah",
        "Twisted Fate","Veigar","Vex","Viktor","Vladimir","Yasuo","Yone","Zed",
        "Ziggs","Zoe"],
  adc: ["Aphelios","Ashe","Caitlyn","Draven","Ezreal","Jhin","Jinx","Kai'Sa","Kalista",
        "Kindred","Kog'Maw","Lucian","Miss Fortune","Samira","Sivir","Tristana",
        "Twitch","Varus","Vayne","Xayah","Yunara"],
  support: ["Alistar","Bard","Blitzcrank","Brand","Braum","Janna","Karma","Leona","Lulu",
            "Lux","Milio","Morgana","Nami","Nautilus","Pyke","Rakan","Renata","Senna",
            "Seraphine","Sona","Soraka","Swain","Taric","Thresh","Yuumi","Zyra"]
};

const runesFull = [
  "Conqu√©rant","Tempo mortel","Jeu de jambes",
  "√âlectrocution","Moisson noire",
  "Com√®te","Invocation d'Aery",
  "Poigne de l'immortel","Apr√®s-coup",
  "First Strike"
];

const runeTrees = [
  "Pr√©cision + Domination","Pr√©cision + Sorcellerie",
  "Domination + Volont√©","Sorcellerie + Inspiration",
  "Volont√© + Pr√©cision"
];

const summonersFull = [
  "Flash + Ignite","Flash + Heal","Flash + Exhaust","Flash + Barrier",
  "Flash + Ghost","Flash + Cleanse","Flash + Teleport","Smite + Flash"
];

const boots = [
  "Bottes de lucidit√©","Jambi√®res du berserker",
  "Coques en acier","Sandales de mercure"
];

const supportItems = [
  "√âpaulettes d'acier","Bouclier relique",
  "Lame du spectre","Flamme de sentinelle"
];

const itemsLegendary = [
  "Rabadon","Liandry","√âtreinte d√©moniaque","C≈ìuracier",
  "Ange Gardien","Kraken","Arc-bouclier","Force de la nature",
  "Muramana","Lame spectre nocturne","Hydre titanesque"
];

function pick(arr) {
  return arr[Math.floor(Math.random() * arr.length)];
}

function isSupportChamp(ch) {
  return champsByRole.support.includes(ch);
}

// AUTO ROLE
function randomRole() {
  return pick(["top","jungle","mid","adc","support"]);
}

// =========================
// SINGLE PLAYER BUILD
// =========================
document.getElementById("final-roll").onclick = () => {
  const result = generateFullBuild();
  displaySingle(result);
};

// =========================
// FULL RANDOM OVERRIDE
// =========================
document.getElementById("full-random").onclick = () => {
  const role = randomRole();
  const champ = pick(champsByRole[role]);
  const runes = pick(runesFull);
  const sums = pick(summonersFull);

  let build = [];
  build.push(pick(boots));
  for(let i=0;i<5;i++) build.push(pick(itemsLegendary));
  if(isSupportChamp(champ)) build[2] = pick(supportItems);

  displaySingle({champ, runes, sums, items: build});
};

// =========================
// TEAM MODE (5 PLAYERS)
// =========================
document.getElementById("team-roll").onclick = () => {

  const roles = ["top","jungle","mid","adc","support"];

  let team = roles.map(r => {
    return generateFullBuild(r);
  });

  displayTeam(team);
};

// =========================
// GENERATION LOGIC
// =========================
function generateFullBuild(forceRole=null) {
  const champMode = document.querySelector(".option-btn.selected[data-type='champ']").dataset.mode;

  let role = forceRole || randomRole();

  let champ;
  if (champMode === "manual") {
    champ = document.getElementById("champ-manual").value || pick(champsByRole[role]);
  } else if (champMode === "role") {
    champ = pick(champsByRole[role]);
  } else {
    champ = pick(Object.values(champsByRole).flat());
  }

  const runesMode = document.querySelector(".option-btn.selected[data-type='runes']").dataset.mode;
  let runes = (runesMode === "full") ? pick(runesFull) :
              (runesMode === "trees") ? pick(runeTrees) : "Runes manuelles";

  const summMode = document.querySelector(".option-btn.selected[data-type='summ']").dataset.mode;
  let sums = (summMode === "full") ? pick(summonersFull) :
             (summMode === "flash") ? "Flash + " + pick(["Ignite","Heal","Exhaust","Ghost","Barrier","Cleanse"])
                                    : "Sorts manuels";

  const itemMode = document.querySelector(".option-btn.selected[data-type='items']").dataset.mode;

  let items = [];
  items.push(pick(boots));
  for(let i=0;i<5;i++) items.push(pick(itemsLegendary));

  // Support rule
  if (isSupportChamp(champ)) items[2] = pick(supportItems);

  return {champ, runes, sums, items, role};
}

// =========================
// DISPLAY FUNCTIONS
// =========================
function displaySingle(build) {
  document.getElementById("result").innerHTML =
    `<b>Champion :</b> ${build.champ}<br>
     <b>Runes :</b> ${build.runes}<br>
     <b>Sorts :</b> ${build.sums}<br>
     <b>Objets :</b> ${build.items.join(", ")}`;

  document.getElementById("modal-bg").style.display = "flex";
}

function displayTeam(team) {
  document.getElementById("modal").style.maxWidth = "700px";

  let html = "<h3>√âquipe compl√®te :</h3>";

  team.forEach(p => {
    html += `
      <div style='margin:12px 0; padding:12px; background:#111827; border-radius:8px;'>
        <b>${p.role.toUpperCase()}</b><br>
        Champion : ${p.champ}<br>
        Runes : ${p.runes}<br>
        Sorts : ${p.sums}<br>
        Objets : ${p.items.join(", ")}
      </div>`;
  });

  document.getElementById("result").innerHTML = html;
  document.getElementById("modal-bg").style.display = "flex";
}

// =========================
// CLOSE MODAL
// =========================
document.getElementById("close-modal").onclick = () =>
  document.getElementById("modal-bg").style.display = "none";

</script>

</body>
</html>
